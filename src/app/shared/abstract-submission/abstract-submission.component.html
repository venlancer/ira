<div class="container mt-5" style="margin-bottom: 2%;">
    <form #abstractForm="ngForm" (ngSubmit)="onSubmit(abstractForm)" class="needs-validation" novalidate>
      <div class="card shadow" style="width: 700px; margin: auto;">
        <div class="card-header bg-primary text-white" style="background-color: #27133c !important;">
          <h4 class="mb-0" style="color: #ffffff; font-weight: bold; text-align: center;">Submit Your Abstract</h4>
        </div>
        <div class="card-body">
          <!-- Title -->
          <div class="form-group mb-3">
            <label for="title" class="form-label">Title <span class="text-danger">*</span></label>
            <select
              class="form-select custom-select-style"
              id="title"
              name="title"
              [(ngModel)]="formData.title"
              required
            >
              <option value="" disabled selected>Select Title</option>
              <option *ngFor="let title of titles" [value]="title">{{ title }}</option>
            </select>
            <div *ngIf="abstractForm.submitted && !formData.title" class="text-danger">
              Title is required.
            </div>
          </div>
  
          <!-- Full Name -->
          <div class="form-group mb-3">
            <label for="fullName" class="form-label">Full Name <span class="text-danger">*</span></label>
            <input
              type="text"
              class="form-control"
              id="fullName"
              name="fullName"
              [(ngModel)]="formData.fullName"
              required
            />
            <div *ngIf="abstractForm.submitted && !formData.fullName" class="text-danger">
              Full Name is required.
            </div>
          </div>
  
          <!-- Email and Phone -->
          <div class="row">
            <!-- Email Field -->
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
                <input
                  type="email"
                  class="form-control"
                  id="email"
                  name="email"
                  [(ngModel)]="formData.email"
                  required
                  pattern="^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$"
                />
                <!-- Error Messages -->
                <div *ngIf="abstractForm.submitted && !formData.email" class="text-danger">
                  Email is required.
                </div>
                <div
                  *ngIf="
                    abstractForm.submitted &&
                    formData.email &&
                    !emailPattern.test(formData.email)
                  "
                  class="text-danger"
                >
                  Please enter a valid email address.
                </div>
              </div>
            </div>
          
            <!-- Phone Number Field -->
            <div class="col-md-6">
              <div class="form-group mb-3">
                <label for="phone" class="form-label">Phone <span class="text-danger">*</span></label>
                <input
                  type="text"
                  class="form-control"
                  id="phone"
                  name="phone"
                  [(ngModel)]="formData.phone"
                  (keypress)="onlyNumberKey($event)"
                  required
                  pattern="^[0-9]{10}$"
                />
                <!-- Error Messages -->
                <div *ngIf="abstractForm.submitted && !formData.phone" class="text-danger">
                  Phone number is required.
                </div>
                <div
                  *ngIf="
                    abstractForm.submitted &&
                    formData.phone &&
                    !phonePattern.test(formData.phone)
                  "
                  class="text-danger"
                >
                  Phone number must be 10 digits.
                </div>
              </div>
            </div>
          </div>
  
          <!-- Country -->
          <div class="form-group mb-3">
            <label for="country" class="form-label">Country <span class="text-danger">*</span></label>
            <select
              class="form-select custom-select-style"
              id="country"
              name="country"
              [(ngModel)]="formData.country"
              required
              style="width: 10rem;"
            >
              <option value="" disabled selected>Select Country</option>
              <option *ngFor="let country of countries" [value]="country">{{ country }}</option>
            </select>
            <div *ngIf="abstractForm.submitted && !formData.country" class="text-danger">
              Country is required.
            </div>
          </div>
  
          <!-- Authors Affiliation -->
          <div class="form-group mb-3">
            <label for="authorsAffiliation" class="form-label">Authors Affiliation</label>
            <input
              type="text"
              class="form-control"
              id="authorsAffiliation"
              name="authorsAffiliation"
              [(ngModel)]="formData.authorsAffiliation"
            />
          </div>
  
          <!-- Contact Address -->
          <div class="form-group mb-3">
            <label for="contactAddress" class="form-label">Contact Address <span class="text-danger">*</span></label>
            <textarea
              class="form-control"
              id="contactAddress"
              name="contactAddress"
              rows="3"
              [(ngModel)]="formData.contactAddress"
              required
            ></textarea>
            <div *ngIf="abstractForm.submitted && !formData.contactAddress" class="text-danger">
              Contact Address is required.
            </div>
          </div>
  
          <!-- Abstract Category -->
          <div class="form-group mb-3">
            <label for="abstractCategory" class="form-label">Abstract Category <span class="text-danger">*</span></label>
            <select
              class="form-select custom-select-style"
              id="abstractCategory"
              name="abstractCategory"
              [(ngModel)]="formData.abstractCategory"
              required
              style="width: 14rem;"
            >
              <option value="" disabled selected>Select Abstract Category</option>
              <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
            </select>
            <div *ngIf="abstractForm.submitted && !formData.abstractCategory" class="text-danger">
              Abstract Category is required.
            </div>
          </div>
  
          <!-- File Upload -->
          <div class="form-group mb-4">
            <label for="file" class="form-label">Choose a file (PDF, DOC, or DOCX) <span class="text-danger">*</span></label>
            <input
              type="file"
              class="form-control"
              id="file"
              name="file"
              (change)="onFileChange($event)"
              required
            />
            <div *ngIf="abstractForm.submitted && !file" class="text-danger">
              A valid file is required.
            </div>
          </div>
  
          <!-- Buttons -->
          <div class="d-flex justify-content-between">
            <button type="submit" class="btn btn-primary" style="background-color: #27133c;">Submit Abstract</button>
            <button type="button" class="btn btn-secondary" style="background-color: #ca2727;color: #ffffff; width: 8rem;" (click)="onReset()">Reset</button>
          </div>
        </div>
      </div>
    </form>
  </div>
  